function DownloadDll {
    $payload = "Malware Payload"
    $outFile = "C:\temp\output.dll"
    
    # Ensure the directory exists
    if (!(Test-Path -Path "C:\temp\")) {
        New-Item -ItemType Directory -Path "C:\temp\"
    }
    
    # Write data to the file
    $payload | Out-File -FilePath $outFile

    Write-output "DLL Download done...."

    # Open the DLL file with Notepad
    Start-Process -FilePath "notepad.exe" -ArgumentList $outFile
}
